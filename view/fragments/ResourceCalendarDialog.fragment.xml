<core:FragmentDefinition
        xmlns="sap.m"
        xmlns:core="sap.ui.core"
        xmlns:unified="sap.ui.unified">

    <Dialog id="planCalendarDialog"
            title="{i18n>xtit.calendarModalTitle}"
            contentWidth="100%"
            resizable="false">
        <content>
            <VBox class="sapUiSmallMargin">
                <PlanningCalendar
                        id="planningCalendar"
                        startDate="{path: 'calendarModel>/startDate'}"
                        rows="{path: 'calendarModel>/resources'}"
                        viewKey="{calendarModel>/viewKey}"
                        appointmentsVisualization="Filled"
                        appointmentSelect="handleAppointmentSelect"
                        showEmptyIntervalHeaders="false"
                        showWeekNumbers="true">
                    <rows>
                        <PlanningCalendarRow
                                icon="{
                                              path: 'calendarModel>ObjectType',
                                              formatter: '.formatter.getResourceIcon'
                                       }"
                                title="{calendarModel>Description}"
                                text="{calendarModel>Description}"
                                appointments="{path : 'calendarModel>ResourceToAssignments/results', templateShareable: 'true'}">
                            <appointments>
                                <unified:CalendarAppointment
                                        startDate="{
                                        		parts:[
                                        			{path:'calendarModel>DateFrom'},
                                        			{path:'calendarModel>TimeFrom'}
                                        		],
                                        		formatter: '.formatter.getCalendarDate'
                                        	}"
                                        endDate="{
                                        		parts:[
                                        			{path:'calendarModel>DateTo'},
                                        			{path:'calendarModel>TimeTo'}
                                        		],
                                        		formatter: '.formatter.getCalendarDate'
                                        	}"
                                        title="{calendarModel>Description}"           
                                        text="{calendarModel>DemandGuid}"
                                        type="{calendarModel>type}">
                                </unified:CalendarAppointment>
                            </appointments>
                        </PlanningCalendarRow>
                    </rows>
                </PlanningCalendar>
            </VBox>
        </content>

        <beginButton>
            <Button text="Cancel" press="onCalendarModalCancel" />
        </beginButton>

        <endButton>
        </endButton>
    </Dialog>

</core:FragmentDefinition>