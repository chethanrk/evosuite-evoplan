<core:FragmentDefinition
        xmlns:core="sap.ui.core"
        xmlns="sap.m"
        xmlns:smartTable="sap.ui.comp.smarttable">
    <Dialog title=""
            contentWidth="100%"
            resizable="true"
            contentHeight="80%"
            stretch="false"
            beforeOpen="onBeforeOpen">
        <content>
            <smartTable:SmartTable
                    id="idDemandAssignmentTable"
                    height="100%"
                    width="100%"
                    direction="Column"
                    tableType="ResponsiveTable"
                    enableAutoBinding="true"
                    entitySet="AssignmentSet"
                    header="{i18n>xtit.itemListTitle}"
                    showRowCount="true"
                    useTablePersonalisation="true"
                    useExportToExcel="false"
                    beforeRebindTable="onBeforeRebind"
                    initiallyVisibleFields="Effort,DateFrom,DateTo,PERSON_NUMBER,FIRSTNAME,LASTNAME"
                    requestAtLeastFields="Guid,Demand">
                <!-- layout data used to make the table growing but the filter bar fixed -->
                <smartTable:layoutData>
                    <FlexItemData growFactor="1" />
                </smartTable:layoutData>
                <Table mode="MultiSelect"
                       growing="true"
                       selectionChange="onSelectionChange">
                	<columns>
								<Column hAlign="Left" visible="{/#Demand/ORDERID/@sap:visible}">
									<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "Demand/ORDERID", "leadingProperty": "Demand/ORDERID"}' />
								</customData>
										<Text text="{/#Demand/ORDERID/@sap:label}"/>
								</Column>
								<Column hAlign="Left" visible="{/#Demand/Status/@sap:visible}">
									<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "Demand/Status", "leadingProperty": "Demand/Status"}' />
								</customData>
										<Text text="{/#Demand/Status/@sap:label}"/>
								</Column>
						<Column hAlign="Left" visible="{/#Demand/DemandDesc/@sap:visible}">
							<customData>
								<core:CustomData key="p13nData" value='\{"columnKey": "Demand/DemandDesc", "leadingProperty": "Demand/DemandDesc"}' />
							</customData>
							<Text text="{/#Demand/DemandDesc/@sap:label}"/>
						</Column>
							</columns>
                	<items>
                		<ColumnListItem>
                			<cells>
                				<Text text="{Demand/ORDERID}" />
                				<Text text="{Demand/Status}" />
								<Text text="{Demand/DemandDesc}" />
                			</cells>
                		</ColumnListItem>
                		
                	</items>
                </Table>
            </smartTable:SmartTable>

        </content>
        <buttons>
            <Button id="idCloseDialog"
                    text="{i18n>xbut.buttonClose}"
                    press="onCloseDialog" />
            <Button id="idButtonBulkUnAssign"
                    text="{i18n>xbut.buttonUnassign}"
                    type="Emphasized"
                    press="onUnassign"/>
            <Button id="idButtonBulkReAssign"
                    text="{i18n>xfld.newAssign}"
                    type="Emphasized"
                    press="onReassign"/>
        </buttons>
    </Dialog>
</core:FragmentDefinition>