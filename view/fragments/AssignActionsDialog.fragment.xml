<core:FragmentDefinition
        xmlns:core="sap.ui.core"
        xmlns="sap.m"
        xmlns:smartTable="sap.ui.comp.smarttable">
    <Dialog title="{i18n>xtit.selectDemands}"
            afterOpen="onDialogOpen"
            contentWidth="100%"
            resizable="true"
            contentHeight="80%"
            stretch="false">
        <content>
                <!--<Table id="idDemandAssignmentTable"
                   class="sapUiNoContentPadding"
                   mode="MultiSelect"
                   items="{
                    path: '/AssignmentSet',
                    parameters : {
                        expand:'Resource,Demand'
                    },
                    templateShareable: true
                }">
                <columns>
                    <Column>
                        <Text text="{i18n>xfld.demandName}" />
                    </Column>
                    <Column minScreenWidth="Tablet"
                            demandPopin="true">
                        <Text text="{/#Demand/ORDERID/@sap:label}" />
                    </Column>
                    <Column minScreenWidth="Tablet"
                            demandPopin="true">
                        <Text text="{/#Demand/ORDER_DESC/@sap:label}" />
                    </Column>
                    <Column minScreenWidth="Tablet"
                            demandPopin="true">
                        <Text text="{/#Demand/OPERATIONID/@sap:label}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem>
                        <cells>
                            <ObjectIdentifier
                                    title="{Demand/DemandDesc}"
                                    text="{Demand/Guid}"/>
                            <Text text="{Demand/ORDERID}"/>
                            <Text text="{Demand/ORDER_DESC}"/>
                            <Text text="{Demand/OPERATIONID}"/>
                        </cells>

                    </ColumnListItem>
                </items>
            </Table>-->

            <smartTable:SmartTable
                    id="idDemandAssignmentTable"
                    height="100%"
                    width="100%"
                    direction="Column"
                    tableType="ResponsiveTable"
                    enableAutoBinding="true"
                    entitySet="DemandSet"
                    header="{i18n>xtit.itemListTitle}"
                    showRowCount="true"
                    useTablePersonalisation="false"
                    useExportToExcel="false"
                    beforeRebindTable="onBeforeRebind"
                    requestAtLeastFields="Guid,ALLOW_ASSIGN,ALLOW_UNASSIGN,ALLOW_REASSIGN,ALLOW_STARTED,ALLOW_ENROUTE,ALLOW_DEM_MOBILE,ALLOW_COMPLETE,DemandToAssignment">
                <!-- layout data used to make the table growing but the filter bar fixed -->
                <smartTable:layoutData>
                    <FlexItemData growFactor="1" />
                </smartTable:layoutData>
                <Table mode="MultiSelect"
                       growing="true">
                </Table>
            </smartTable:SmartTable>

        </content>
        <buttons>
            <Button id="idCloseDialog"
                    text="{i18n>xbut.buttonClose}"
                    press="onCloseDialog" />
            <Button id="idButtonBulkUnAssign"
                    text="{i18n>xbut.unassign}"
                    type="Emphasized"
                    press="onUnassign"/>
            <Button id="idButtonBulkReAssign"
                    text="{i18n>xbut.reassign}"
                    type="Emphasized"
                    press="onReassign"/>
        </buttons>
    </Dialog>
</core:FragmentDefinition>