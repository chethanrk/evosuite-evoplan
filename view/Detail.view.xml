<mvc:View height="100%" 
	controllerName="com.evorait.evoplan.controller.Detail"
	xmlns="sap.m" 
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core" 
	xmlns:uxap="sap.uxap"
	xmlns:sections="com.evorait.evoplan.block.sections"
	xmlns:layout="sap.ui.layout">
	
	<Page id="objectPage"
		  class="sapUiNoContentPadding"
		  title="{i18n>demandOverview}"
		  navButtonPress="navBack"
		  showNavButton="true">

		<uxap:ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="false" busy="{viewModel>/busy}" busyIndicatorDelay="{viewModel>/delay}" >

			<uxap:headerTitle>
			<uxap:ObjectPageHeader objectImageURI="sap-icon://eam-work-order"
							  objectImageShape="Circle"
							  objectTitle="Demand"
							  objectSubtitle="{DemandDesc}"
							  id="ObjectPageLayoutHeaderTitle"
							  showPlaceholder="true">
			</uxap:ObjectPageHeader>
		</uxap:headerTitle>
			<uxap:headerContent>
				<layout:VerticalLayout>
					<ObjectStatus title="External Key" text="{ExtKey}"/>
					<ObjectStatus title="Status" text="{UserStatusLongText}"/>
					<ObjectStatus title="Source System" text="{Source}"/>
				</layout:VerticalLayout>
			</uxap:headerContent>

			<uxap:sections>
				<uxap:ObjectPageSection title="{i18n>general}">
					<uxap:subSections>
						<uxap:ObjectPageSubSection>
							<uxap:blocks>
								<sections:GeneralBlock id="detailsFormBlock" />
							</uxap:blocks>
						</uxap:ObjectPageSubSection>
					</uxap:subSections>
				</uxap:ObjectPageSection>
				
				<uxap:ObjectPageSection title="{i18n>dates}">
					<uxap:subSections>
						<uxap:ObjectPageSubSection>
							<uxap:blocks>
								<sections:DateBlock id="datesBlock" />
							</uxap:blocks>
						</uxap:ObjectPageSubSection>
					</uxap:subSections>
				</uxap:ObjectPageSection>
				
				<uxap:ObjectPageSection title="{i18n>PM Details}">
					<uxap:subSections>
						<uxap:ObjectPageSubSection>
							<uxap:blocks>
								<sections:PMDetailsBlock id="pmDetailBlock" />
							</uxap:blocks>
						</uxap:ObjectPageSubSection>
					</uxap:subSections>
				</uxap:ObjectPageSection>
				
				<uxap:ObjectPageSection title="{i18n>Assignments}">
					<uxap:subSections>
						<uxap:ObjectPageSubSection>
							<uxap:blocks>
								<sections:AssignmentBlock id="assignMentsBlock" />
							</uxap:blocks>
						</uxap:ObjectPageSubSection>
					</uxap:subSections>
				</uxap:ObjectPageSection>
			</uxap:sections>
		</uxap:ObjectPageLayout>
		 <footer>
            <OverflowToolbar>
                <!--<Button icon="sap-icon://message-popup" text="{= ${MessageModel>/}.length}" visible="{= ${MessageModel>/}.length === 0 ? false : true}" type="Emphasized" press="onMessagePopoverPress"/>
                <ToolbarSpacer/>
                <Button id="changeStatusButton"
                        text="{i18n>xbut.changeStatus}"
                        icon="sap-icon://flag"
                        press="onChangeStatusButtonPress"
                        enabled="false">
                    <layoutData>
                        <ToolbarLayoutData shrinkable="true" />
                    </layoutData>
                </Button>
                <Button id="assignButton"
                        text="{i18n>xbut.assign}"
                        icon="sap-icon://activity-individual"
                        press="onAssignButtonPress"
                        enabled="false">
                    <layoutData>
                        <ToolbarLayoutData shrinkable="true" />
                    </layoutData>
                </Button>-->
            </OverflowToolbar>
        </footer>
	</Page>
</mvc:View>