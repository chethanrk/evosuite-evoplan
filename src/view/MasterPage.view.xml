<mvc:View controllerName="com.evorait.evoplan.controller.MasterPage"
          xmlns="sap.m"
          xmlns:mvc="sap.ui.core.mvc"
          xmlns:semantic="sap.m.semantic"
          xmlns:smartTable="sap.ui.comp.smarttable"
          xmlns:table="sap.ui.table"
          xmlns:l="sap.ui.layout"
          xmlns:vm="sap.ui.comp.variants"
          xmlns:f="sap.f">

    <Page id="masterPage"
          title="Technicians"
          showFooter="true"
          showHeader="true"
          icon="sap-icon://action">

        <f:DynamicPage headerExpanded="true"
                       preserveHeaderStateOnScroll="true"
                       fitContent="true"
                       showFooter="false"
                       class="tableContentPage sapUiNoContentPadding">

            <f:header>
                <f:DynamicPageHeader pinnable="false" class="sapUiNoContentPadding">
                    <f:content>
                        <l:VerticalLayout class="sapUiNoContentPadding" >
                            <l:HorizontalLayout class="sapUiNoContentPadding" >
                                <vm:VariantManagement standardItemText="Standard"></vm:VariantManagement>
                            </l:HorizontalLayout>
                            <SearchField id="searchField"
                                         liveChange="onSearch"
                                         showRefreshButton="{= !${device>/support/touch} }"
                                         width="100%">
                            </SearchField>
                        </l:VerticalLayout>
                    </f:content>
                </f:DynamicPageHeader>
            </f:header>

            <f:content>
                <smartTable:SmartTable
                        id="droppableTable"
                        entitySet="TechnicianSet"
                        tableType="TreeTable"
                        useExportToExcel="false"
                        useVariantManagement="false"
                        useTablePersonalisation="false"
                        header="Technician"
                        showRowCount="false"
                        enableAutoBinding="true"
                        beforeRebindTable="onBeforeRebindTable"
                        updateFinished="onUpdateFinished"
                        initiallyVisibleFields="DESCRIPTION"
                        toolbarStyleClass="treeTableHeader">
                    <!-- layout data used to make the table growing but the filter bar fixed -->
                    <smartTable:layoutData>
                        <FlexItemData growFactor="1" />
                    </smartTable:layoutData>
                </smartTable:SmartTable>
            </f:content>

        </f:DynamicPage>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>