<!DOCTYPE HTML>
<html>
<!-- Copyright (c) 2015 SAP AG, All Rights Reserved -->
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Approve Purchase Orders</title>

	<!-- Bootstrap the unified shell in sandbox mode for standalone usage.

         The renderer is specified in the global Unified Shell configuration object "sap-ushell-config".

         The fiori2 renderer will render the shell header allowing, for instance,
         testing of additional application setting buttons.

         The navigation target resolution service is configured in a way that the empty URL hash is
         resolved to our own application.

         This example uses relative path references for the SAPUI5 resources and test-resources;
         it might be necessary to adapt them depending on the target runtime platform.
         The sandbox platform is restricted to development or demo use cases and must NOT be used
         for productive scenarios.
    -->
	<script type="text/javascript">
		window["sap-ushell-config"] = {
			defaultRenderer : "fiori2",
			renderers: {
				fiori2: {
					componentData: {
						config: {
							search: "hidden",
							enableMergeAppAndShellHeaders: true
						}
					}
				}
			},
			applications: {
                "EvoPlan-dispatch": {
                    additionalInformation: "SAPUI5.Component=com.evorait.evoplan",
                	applicationType: "URL",
            		url: "../",
                	description: "Dispatch demands",
					title: "evoPlan"
               }
			}   
		};
	</script>

	<script src="https://sapui5.hana.ondemand.com/test-resources/sap/ushell/bootstrap/sandbox.js" id="sap-ushell-bootstrap"></script>

	<!-- Bootstrap the UI5 core library -->
	<!-- //src="../resources/sap-ui-core.js" -->
	<!-- https://ed1.evorait.net:50103/sap/public/bc/ui5_ui5/1/resources/sap-ui-core.js -->

	<!-- Bootstrapping UI5 -->
	<!-- https://sapui5.hana.ondemand.com/resources/sap-ui-core.js -->
	<script id="sap-ui-bootstrap"
			src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
			data-sap-ui-preload="async"
			data-sap-ui-libs="sap.m, sap.ui.layout, sap.ushell, sap.ndc"
			data-sap-ui-theme="sap_belize"
			data-sap-ui-compatVersion="edge"
			data-sap-ui-language="en"
			data-sap-ui-resourceroots='{"com.evorait.evoplan": "../"}'
			data-sap-ui-frameOptions='allow'>    // NON-SECURE setting for testing environment
	</script>

	<script type="text/javascript">
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-core');
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-widget');
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-mouse');
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-sortable');
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-droppable');
        $.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-draggable');

        sap.ui.localResources("sapui5draganddrop");
	</script>

	<script type="text/javascript">
		/*=====================================================================
		 The following onError function is used to trap any errors that occur
		 while the application is running. Cordova fails silently whenever it
		 encounters an error in HTML or JavaScript code. So, with that being
		 the case, developers cannot tell when/why their applications are
		 failing. Any code error will cause the function to fire and display
		 the error in an alert dialog.
		 ======================================================================*/
        window.onerror = function (msg, url, line) {
            var idx = url.lastIndexOf("/");
            if (idx > -1) {
                url = url.substring(idx + 1);
            }
            alert("ERROR in " + url + " (line #" + line + ")\n" + msg);
            console.error(msg);
            return false;
        };
	</script>

	<script>

        function getUrlParameterName(sParam) {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) {
                    return true;
                }
            }
            return false;
        }

        function startApp() {
            sap.ui.getCore().attachInit(function() {

                sap.ui.require([
                    "com/evorait/evoplan/localService/mockserver"
                ], function (server) {
                    // set up test service for local testing
                    server.init();
                    var shell = sap.ushell;
                    var renderer = shell.Container.createRenderer();

                    // initialize the ushell sandbox component
                    renderer.placeAt("content");
                });
            });
        }

        window.onload = function () {
            jQuery.sap.require("com.evorait.evoplan.dev.devapp");
            if (window.cordova || getUrlParameterName("companionbuster")) {
                var page = window.location.pathname.split("/").pop();
                if (page === "preview_hidden.html") {
                    window.sap_webide_FacadePreview = true;
                }
                com.evorait.evoplan.dev.devapp.initialize();
            }
            else {
                startApp();
            }
        }
	</script>

</head>

<!-- UI Content -->
<body class="sapUiBody" id="content">
</body>
</html>