<mvc:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:vbm="sap.ui.vbm" xmlns:vk="sap.ui.vk" xmlns:f="sap.f"
	controllerName="com.evorait.evoplan.controller.map.Map" displayBlock="true" height="100%" xmlns:l="sap.ui.layout">
	<Page id="MapPage" showFooter="true" showHeader="false">
		<l:Splitter orientation="Vertical">
			<NavContainer id="leftPanel" class="panelPage">
				<f:DynamicPage id="idMapDynamicPage" headerExpanded="true" fitContent="true" preserveHeaderStateOnScroll="true" showFooter="true"
					toggleHeaderOnTitleClick="false" class="sapUiNoContentPadding tableContentPage">
					<f:header>
						<f:DynamicPageHeader pinnable="true">
							<f:content>
								<core:Fragment fragmentName="com.evorait.evoplan.view.map.fragments.SmartFilterMapDemands" type="XML"/>
							</f:content>
						</f:DynamicPageHeader>
					</f:header>
					<f:content>
						<vk:MapContainer id="idMapContainer" autoAdjustHeight="true" settingsPressed="onClickMapDemandFilter" >
							<vk:content>
								<vk:ContainerContent title="Geographic Map" icon="sap-icon://activities">
									<vk:content>
										<vbm:GeoMap id="idGeoMap" drop="onDrop" initialZoom="5" initialPosition="77.52633333206177;12.963101322467267;0.0">
											<vbm:vos>
												<vbm:Routes items="{mapData>/routeData}">
													<vbm:items>
														<vbm:Route id="idMapRoute" position="{mapData>sLong};{mapData>sLat};0;{mapData>dLong};{mapData>dLat};0" color="rgb(117,148,34)"
															colorBorder="rgb(255,255,255)" linewidth="3" routetype="Geodesic" click="onClickRoute" contextMenu="onContextMenuRoute"/>
													</vbm:items>
												</vbm:Routes>
												<vbm:Spots items="{/DemandSet}">
													<vbm:items>
														<vbm:Spot position="{LONGITUDE};{LATITUDE};0" scale="{path:'IS_SELECTED',formatter:'.formatter.getSpotScale'}"/>
													</vbm:items>
												</vbm:Spots>
											</vbm:vos>
										</vbm:GeoMap>
									</vk:content>
								</vk:ContainerContent>
							</vk:content>
						</vk:MapContainer>
					</f:content>
				</f:DynamicPage>
				<layoutData>
					<l:SplitterLayoutData size="{=${viewModel>/showDemands} === true?'92%':'61%'}"/>
				</layoutData>
			</NavContainer>
			<core:Fragment fragmentName="com.evorait.evoplan.view.common.fragments.DemandsTable" type="XML"></core:Fragment>
		</l:Splitter>
	</Page>
</mvc:View>