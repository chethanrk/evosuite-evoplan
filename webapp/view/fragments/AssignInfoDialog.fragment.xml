<core:FragmentDefinition
        xmlns="sap.m"
        xmlns:core="sap.ui.core"
        xmlns:form="sap.ui.layout.form"
        xmlns:smartField="sap.ui.comp.smartfield">

    <Dialog title="{i18n>xtit.assignInfoModalTitle}"
            contentWidth="100%"
            resizable="true"
            class="assignInfoDialog">
        <content>
            <VBox width="100%" visible="{assignment>/showError}">

            </VBox>

            <form:SimpleForm
                    visible="{= !${viewModel>/showError}}"
                    id="assignmentInfoForm"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="3"
                    labelSpanL="3"
                    labelSpanM="3"
                    labelSpanS="12"
                    emptySpanXL="2"
                    emptySpanL="2"
                    emptySpanM="2"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="2"
                    columnsM="1"
                    singleContainerFullSize="false" >
                <form:content>

                    <core:Title text="" />
                    <Label text="{i18n>xfld.demandName}" />
                    <Text text="{assignment>/Description}"/>
                    <Label text="{i18n>xfld.ResourceName}" />
                    <Text text="{assignment>/ResourceDesc}"/>
                    <Label text="{i18n>xfld.ResourceGroupName}" />
                    <Text text="{assignment>/ResourceGroupDesc}"/>
                    <Label text="{i18n>xfld.Order}" />
                    <Text text="{assignment>/OrderId}"/>
                    <Label text="{i18n>xfld.Operation}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? false : true}"/>
                    <Text text="{assignment>/OperationNumber}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? false : true}"/>
                    <Label text="{i18n>xfld.SubOperation}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? false : true}"/>
                    <Text text="{assignment>/SubOperationNumber}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? false : true}"/>
                    <Label text="{i18n>xfld.Notification}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? true : false}"/>
                     <Text text="{assignment>/Notification}" visible="{= ${assignment>/Obj_Source_Type} === 'DEM_PMNO' ? true : false}"/>
         
                    

                    <core:Title text="" />
                    <Label text="{i18n>xfld.startDate}" />
                    <DateTimePicker name="DateFrom"
                                    value="{path:'assignment>/DateFrom',
                                    type:'sap.ui.model.type.DateTime',
                                    formatOptions: { style: 'medium', strictParsing: true}
                                    }"
                                    editable="{assignment>/AllowChange}"
                    />

                    <Label text="{i18n>xfld.endDate}" />
                    <DateTimePicker id="idDateToAssignInf"
                                    name="DateTo"
                                    value="{path:'assignment>/DateTo',
                                    type:'sap.ui.model.type.DateTime',
                                    formatOptions: { style: 'medium', strictParsing: true}
                                    }"
                                    editable="{assignment>/AllowChange}"/>

                    <Label text="{i18n>xfld.effort}" />
                   <Input type="Text"
                           name="Effort"
                           value="{assignment>/Effort}"
                           editable="{assignment>/AllowChange}"/>
                           
					<!--<smartField:SmartLabel labelFor="idEfforUnit" />
					<smartField:SmartField value="{Demand/EffortUnit}" id="idEfforUnit"
						change="onChangeUnit">
						<smartField:configuration>
							<smartField:Configuration 
								controlType="selection"
								displayBehaviour="idAndDescription">
							</smartField:Configuration>
						</smartField:configuration>
					</smartField:SmartField>-->
					<Label text="{/#Demand/EffortUnit/@sap:label}" />
					<Text text="{assignment>/EffortUnit}"/>
					<!--<Select
					selectedKey="{assignment>/EffortUnit}"
					items="{
						path: '/TimeUnitsSet'
					}"
                    enabled="{assignment>/AllowChange}">
					<core:Item key="{Msehi}" text="{Msehl}" />
				</Select>-->

                    <Label text="{i18n>xfld.newAssign}"
                           visible="{assignment>/AllowReassign}" />
                    <CheckBox visible="{
                    			parts:[
                    				{path:'assignment>/AllowChange'},
                    				{path:'assignment>/AllowReassign'}
                    			],
                    			formatter:'.formatter.formartVisibleReassign'
                    		}"
                              enabled="{assignment>/AllowReassign}"
                              select="onChangeAssignType"
                              selected="{assignment>/isNewAssignment}"/>
                    <Button id="reassignDialogButton"
                            text="{i18n>xbut.selectResource}"
                            press="onPressReAssign"
                            enabled="{assignment>/isNewAssignment}"
                            visible="{assignment>/AllowReassign}"/>

                    <Label text="{i18n>xfld.newAssignment}" visible="{assignment>/isNewAssignment}" />
                    <Text text="{assignment>/NewAssignDesc}" visible="{assignment>/isNewAssignment}"/>
                </form:content>
            </form:SimpleForm>

        </content>

        <buttons>
        	<Button text="{i18n>xbut.gotodemand}"
                    type="Emphasized"
                    press="onGotoDemand" />
            <Button text="{i18n>xbut.buttonClose}"
                    press="onCloseDialog" />
            <Button text="{i18n>xbut.buttonUnassign}"
                    type="Reject"
                    press="onDeleteAssignment"
                    visible="{assignment>/AllowUnassign}"/>
            <Button text="{i18n>xbut.buttonSave}"
                    type="Emphasized"
                    press="onSaveDialog"
                    visible="{assignment>/AllowChange}"/>
        </buttons>

    </Dialog>

</core:FragmentDefinition>