<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="com.evorait.evoplan.controller.MessageCockpit"
	xmlns:f="sap.f" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:smartTable="sap.ui.comp.smarttable">
	<Page title="Title" showHeader="false" showFooter="true">
		<content>
			<f:DynamicPage headerExpanded="true" preserveHeaderStateOnScroll="true" showFooter="true" toggleHeaderOnTitleClick="false"
				class="sapUiNoContentPadding tableContentPage">
				<f:header>
					<f:DynamicPageHeader class="sapUiNoContentPadding tableContentPage" pinnable="true">
						<f:content>
							<IconTabBar 
								id="idIconTabBar" 
								select="onSelect"
								expandable="true"
								expanded="false">
								<items>
									<!--<IconTabFilter 
										showAll="true" 
										count="{= ${/Processes}.length}" 
										text="{i18n>xtit.messages}" 
										key="All"/>
									<IconTabSeparator/>-->
									<IconTabFilter 
										icon="sap-icon://error" 
										iconColor="Negative" 
										count="1" 
										text="{i18n>error}"
										key="Overweight"/>
									<IconTabFilter 
										icon="sap-icon://message-success" 
										iconColor="Positive" 
										count="1" 
										text="{i18n>success}" 
										key="Ok"/>
									<IconTabFilter 
										icon="sap-icon://warning"
										iconColor="Critical" 
										count="1" 
										text="{i18n>warning}" 
										key="Heavy"/>
									
								</items>
							</IconTabBar>
						</f:content>
					</f:DynamicPageHeader>
				</f:header>
				<f:content>
					
				<smartTable:SmartTable id="processId" height="100%" width="100%" direction="Column" fitContainer="true" enableAutoBinding="true"
					entitySet="Processes" showRowCount="true" header="{i18n>xtit.messages}"
					useExportToExcel="true" useVariantManagement="true" persistencyKey="_keyForProesses" useTablePersonalisation="true"
					requestAtLeastFields="Guid">
					<!-- layout data used to make the table growing but the filter bar fixed -->
					<smartTable:layoutData>
						<FlexItemData growFactor="1"/>
					</smartTable:layoutData>
					<smartTable:customToolbar>
							<OverflowToolbar>
								<content>
									<ToolbarSpacer/>
									<Button icon="sap-icon://synchronize" tooltip="{i18n>xtit.reprocess}" enabled="{viewModel>/enableReprocess}"/>
								</content>
							</OverflowToolbar>
					</smartTable:customToolbar>
				</smartTable:SmartTable>
				</f:content>
				<f:footer>
					<OverflowToolbar>
						<Button icon="sap-icon://message-popup" text="{= ${MessageModel>/}.length}" visible="{= ${MessageModel>/}.length === 0 ? false : true}"
								type="Emphasized" press="onMessagePopoverPress"/>
						<ToolbarSpacer/>
					</OverflowToolbar>
				</f:footer>
			</f:DynamicPage>
		</content>
		
	</Page>
</mvc:View>